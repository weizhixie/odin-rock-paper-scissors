<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>

<body>
    <section class="buttons">
        <button class="options" value="Rock">Rock</button>
        <button class="options" value="Paper">Paper</button>
        <button class="options" value="Scissors">Scissors</button>
    </section>

    <section>
        <p class="result"></p>
        <p class="player-result">Player: 0</p>
        <p class="computer-result">Computer: 0</p>
        <p class="end-result"></p>
    </section>

    <script>
        const userSelections = document.querySelectorAll(".options");
        const singleRoundResult = document.querySelector(".result");
        const playerResult = document.querySelector(".player-result");
        const computerResult = document.querySelector(".computer-result");
        const endResult = document.querySelector(".end-result");

        let playerScore = 0;
        let computerScore = 0;

        function getComputerChoice() {
            const options = ["Rock", "Paper", "Scissors"];
            const computerChoice = options[Math.floor(Math.random() * options.length)];

            return computerChoice;
        }

        function playRound(playerSelection, computerSelection) {
            if (playerSelection === computerSelection) {
                singleRoundResult.textContent = `It's tie! ${playerSelection}  ties with ${computerSelection}`;
            }
            else if (playerSelection === "Rock" && computerSelection === "Paper" ||
                playerSelection === "Paper" && computerSelection === "Scissors" ||
                playerSelection === "Scissors" && computerSelection === "Rock") {

                singleRoundResult.textContent = `You Lose! ${computerSelection} beats ${playerSelection}`;
                computerScore += 1;
            }
            else if (playerSelection === "Rock" && computerSelection === "Scissors" ||
                playerSelection === "Paper" && computerSelection === "Rock" ||
                playerSelection === "Scissors" && computerSelection === "Paper") {

                singleRoundResult.textContent = `You Won! ${playerSelection} beats ${computerSelection}`;
                playerScore += 1;
            }

            playerResult.textContent = "Player: " + playerScore;
            computerResult.textContent = "Computer: " + computerScore;

            showEndResult(playerScore, computerScore);
        }

        function showEndResult(playerScore, computerScore) {
            if (playerScore == 5) {
                endResult.textContent = "You Won!";
                disableButtons();
            }
            else if (computerScore == 5) {
                endResult.textContent = "You Lost...";
                disableButtons();
            }
        }

        function disableButtons() {
            userSelections.forEach((userSelection) => {
                userSelection.disabled = true;
            });
        }

        userSelections.forEach((userSelection) => {
            userSelection.addEventListener("click", (e) => {
                playRound(e.target.value, getComputerChoice());
            });
        });
    </script>
</body>

</html>